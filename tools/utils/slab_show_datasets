#!/bin/sh -e

. $SLAB_ROOT/tools/utils/utils.sh

show_usage() {
    echo "usage: $(basename $0) [options] [corpus]"
}

show_help() {
    show_usage
    echo ""
    echo "Show the dataset that are available. If a 'corpus' is specified"
    echo "only show the datasets for this corpus."
    echo ""
    echo "  -h              show this help message"
}

while :; do
    case "$1" in
        -h) show_help; exit 0;;
        -*)
            echo "unknown option: $1. Try '$0 -h' for more informations."  1>&2
            echo "" 1>&2
            show_usage 1>&2
            exit 1;;
        *) break;;
    esac
    shift
done

if [ $# -gt 1 ]; then
    show_usage 1>&2
    exit 1
fi
corpus=$1

for scp in $(find -L $SLAB_DATASETS/$corpus -name '.local' -prune -o -name 'wav.scp' | grep -v local); do
    dir=$(dirname $scp)
    echo ${dir#$SLAB_DATASETS\/}
done

